
<h1 class="text-center mb-5">My Journal</h1>

<% if @categories.empty? %>
  <div class="card text-center w-75 mx-auto bg-dark border-dark mt-5">
    <div class="card-body text-secondary">
      <img src=<%=asset_path("empty.svg")%>/>
      <h5 class="card-title">You don't have any Journal.</h5>
      <h6 class="card-text"><%= link_to new_category_path, "data-bs-toggle" => "modal", "data-bs-target" => "#exampleModal", :remote => true do %>
        <i class="fas fa-plus text-primary"></i> Create one.
      <% end %></h6>
    </div>
  </div>
<% else %>

  <% @categories.each do |category| %>
    <div class="card w-75 bg-secondary mx-auto mb-3">
      <div class="card-body d-flex p-4">
        <div class="flex-grow-1">
          <h5 class="card-title"><%= category.title %></h5>
          <p class="card-text" style="transform: rotate(0);"><%= link_to category.description, category, :class => "text-white stretched-link" %></p>
          <div>
            <span class="text-light">
              <small>Completed <%= category.tasks_completed %> out of <%= category.tasks.count %> tasks</small>
            </span>
          </div>
        </div>
        <div class="p-2 text-center">
          <div class="dropdown text-end">
            <button class="btn btn-sm btn-outline-warning" id="dLabel" type="button" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="fas fa-caret-down"></i>
            </button>
            <ul class="dropdown-menu text-small" aria-labelledby="dropdownUser1" style="">
              <li><%= link_to 'Edit', edit_category_path(category), :class => "dropdown-item", "data-bs-toggle" => "modal", "data-bs-target" => "#exampleModal", remote: true %></li>
              <li><%= link_to 'Delete', category_path(category), remote: true, method: :delete,
                :class => "dropdown-item", 
                data: {confirm: "Are you sure you want to delete this task?"} %>
              </li>
            </ul>
          </div>
        </div>
      </div> 
    </div>
  <% end %>
<% end %>

<button type="button" class="btn btn-info btn-circle btn-xl">
  <%= link_to new_category_path, :class => 'btn-create', "data-bs-toggle" => "modal", "data-bs-target" => "#exampleModal", :remote => true do %>
    <i class="fas fa-pencil-alt text-white"></i>
  <% end %>
</button>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      
    </div>
  </div>
</div>
